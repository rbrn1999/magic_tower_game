<html>

<head>
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.7.1.min.js"></script>
</head>

<body style="background-color: black; margin: 0 auto;">
    <div
        style="display: flex ; justify-content: center; align-items: center; min-width: 100%; min-height: 100%; width: auto; height: auto;">
        <div
            style="position: absolute; padding: 2px 10px; font-size: 100px; color: white; width: auto; height: auto; background-color: #00000088; border-radius: 20px;">
            Game Over
        </div>
        <video autoplay muted id="myVideo" src="ending.mp4" type="video/mp4"
            style="position: relative; min-width: 100%; min-height: 100%;width: auto; height: auto; z-index: -100;background-size: cover;">
        </video>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.1.3/howler.core.min.js"></script>
    <script type="text/javascript">
        $(document).click(function (e) {
            window.location.href = "game_sample.html";
        })
        $(document).keydown(function (e) {
            //sound.play();
            if ($('#myVideo').prop('muted')) {
                document.querySelector("#myVideo").volume = 0.2;
                $('#myVideo').prop('muted', false);
                console.log("hi");
            }
        })
        $(document).mousemove(function (e) {
            if ($('#myVideo').prop('muted')) {
                document.querySelector("#myVideo").volume = 0.2;
                $('#myVideo').prop('muted', false);
                console.log("hi");
            }
        })
        document.getElementById('myVideo').addEventListener('ended', myHandler, false);

        function myHandler(e) {
            window.location.href = "game_sample.html";
        }
        Howler.mobileAutoEnable = true;
        var sound = new Howl({
            src: ['ending.mp3'],
            html5: true,
            autoplay: false,
            loop: false, // 無限循環
            volume: 0.3, // 音量ntById( "state" ).innerText = "結束";
            onplay: function () {
                console.log('audio playing!');
            },
            onunlock: function () {
                console.log('audio play unlocked!');
            },
            onplayerror: function () {
                console.log('audio play denied!');
                sound.once('unlock', function () {
                    console.log('Play! [touchend]');

                });
            },
        });
    </script>
</body>

</html>